!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},n=e.parcelRequired76b;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var o={id:e,exports:{}};return r[e]=o,n.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,r){t[e]=r},e.parcelRequired76b=n),n("aar0g"),n("eZZGH");var o=n("gQOBw"),l=n("iFsN9"),a=n("dtYBq");l.app;var i=document.querySelector(".menu__logout");console.log(i),i.addEventListener("click",(function(e){e.preventDefault();var r=(0,o.getAuth)();(0,o.signOut)(r).then((function(){(0,a.notifyInfoMessage)("You loged out!"),location="http://localhost:1234/index.html"})).catch((function(e){console.error(e)}))})),n("2xDiJ");o=n("gQOBw");var u=n("cokon"),c=(l=n("iFsN9"),n("jxf8A")),s=n("c0QYQ"),f=n("408gj"),d=n("iibY6"),v=(a=n("dtYBq"),new(0,d.default)),h=new(0,f.default);c.refs.btnQueue.addEventListener("click",(function(e){(0,o.onAuthStateChanged)(y,(function(e){if(e){var r=e.uid;(0,u.get)((0,u.child)((0,u.ref)(g),"users/".concat(r,"/userQueue"))).then((function(e){if(e.exists()){var r=e.val();console.log(r);var t=Object.keys(r),n=[],o=!0,l=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(o=(i=u.next()).done);o=!0){var c=i.value;n.push(c)}}catch(e){l=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(l)throw a}}return console.log(n),n}})).then((function(e){console.log(e);var r=[],t=!0,n=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(t=(l=a.next()).done);t=!0){var i=l.value,u=v.getCurrentFilm({id:i});r.push(u)}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}Promise.all(r).then((function(e){h.renderMarkup({selector:".films__list--user",innerHtml:!0,createMarkypFunc:h.createFilmUserCardsMarkup(e,s.genres)})}))})).catch((function(e){return console.error(e)}))}else(0,a.notifyFailureMessage)("Please Log In!")}))})),c.refs.btnWatched.addEventListener("click",(function(e){(0,o.onAuthStateChanged)(y,(function(e){if(e){var r=e.uid;(0,u.get)((0,u.child)((0,u.ref)(g),"users/".concat(r,"/userWatched"))).then((function(e){if(e.exists()){var r=e.val();console.log(r);var t=Object.keys(r),n=[],o=!0,l=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(o=(i=u.next()).done);o=!0){var c=i.value;n.push(c)}}catch(e){l=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(l)throw a}}return console.log(n),n}})).then((function(e){console.log(e);var r=[],t=!0,n=!1,o=void 0;try{for(var l,a=e[Symbol.iterator]();!(t=(l=a.next()).done);t=!0){var i=l.value,u=v.getCurrentFilm({id:i});r.push(u)}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}Promise.all(r).then((function(e){h.renderMarkup({selector:".films__list--user",innerHtml:!0,createMarkypFunc:h.createFilmUserCardsMarkup(e,s.genres)})}))})).catch((function(e){return console.error(e)}))}else(0,a.notifyFailureMessage)("Please Log In!")}))}));var g=(0,u.getDatabase)(l.app),y=(0,o.getAuth)(l.app);n("aZ2bT");c=n("jxf8A");var p=n("lo7pY");c.refs.filmListUser.addEventListener("click",p.onShowFilmModal)}();
//# sourceMappingURL=user-page.8c867808.js.map
