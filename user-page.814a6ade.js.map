{"mappings":"gfAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAGAE,EAAAC,IACA,IAAMC,EAASC,SAASC,cAAc,iBACtCC,QAAQC,IAAIJ,GACZA,EAAOK,iBAAiB,SAExB,SAAkBC,GAChBA,EAAEC,iBACF,IAAMC,GAAO,EAAAX,EAAAY,YACb,EAAAZ,EAAAa,SAAQF,GACLG,MAAK,YAEJ,EAAAC,EAAAC,mBAAkB,kBAClBC,SAAW,kC,IAGZC,OAAM,SAAAC,GAELb,QAAQa,MAAMA,E,OCpBpBnB,EAAAD,EAAA,a,oDAgBAqB,EAAAC,KAAKC,SAASd,iBAAiB,SAI/B,SAAyBC,IACvB,EAAAT,EAAAuB,oBAAmBC,GAAM,SAAAC,GACvB,GAAIA,EAAM,CAIR,IAAMC,EAAMD,EAAKC,KACjB,EAAAC,EAAAC,MAAI,EAAAD,EAAAE,QAAM,EAAAF,EAAAG,KAAIC,GAAK,SAAaC,OAAJN,EAAI,gBAC7BZ,MAAK,SAAAmB,GACJ,GAAIA,EAASC,SAAU,CACrB,IAAMC,EAAOF,EAASG,MACtB9B,QAAQC,IAAI4B,GACZ,IAAME,EAAOC,OAAOD,KAAKF,GACnBI,EAAO,GACRC,GAAS,EAATC,GAAS,EAATC,OAASC,E,IAAd,QAAKC,EAAAC,EAAaR,EAAIS,OAAAC,cAAjBP,GAAAI,EAAAC,EAASG,QAAAC,MAATT,GAAS,GAAT,IAAMU,EAANN,EAASO,MACZZ,EAAKa,KAAKF,E,WADPT,GAAS,EAATC,EAASW,C,aAATb,GAAS,MAATK,EAASS,QAATT,EAASS,Q,YAATb,E,MAAAC,C,EAILpC,QAAQC,IAAIgC,E,KAIfzB,MAAK,SAAAyB,G,IAYLrB,OAAM,SAAAmC,G,OAAO/C,QAAQa,MAAMkC,E,SAM9B/C,QAAQC,IAAI,kB,OA3ClBa,EAAAC,KAAKkC,WAAW/C,iBAAiB,SAgDjC,SAA2BC,GAAG,IA/C9B,IAAMsB,GAAK,EAAAJ,EAAA6B,aAAYvD,EAAAC,KACjBsB,GAAO,EAAAxB,EAAAY,SAAQX,EAAAC,K","sources":["src/js/user-service/user.js","src/js/user-service/logOut.js","src/js/user-service/lib.js"],"sourcesContent":["import '../helpers/changeTheme';\nimport '../helpers/btnScroll';\nimport './logOut';\nimport './lib';\nimport '../modals/modals';\n","import { getAuth, signOut } from 'firebase/auth';\nimport { app } from '../firebase/initFirebase';\nimport { notifyInfoMessage } from '../helpers/notifyMessages';\napp;\nconst logOut = document.querySelector('.menu__logout');\nconsole.log(logOut);\nlogOut.addEventListener('click', onlogOut);\n\nfunction onlogOut(e) {\n  e.preventDefault();\n  const auth = getAuth();\n  signOut(auth)\n    .then(() => {\n      // Sign-out successful.\n      notifyInfoMessage('You loged out!');\n      location = 'http://localhost:1234/index.html';\n      //   window.open();\n    })\n    .catch(error => {\n      // An error happened.\n      console.error(error);\n    });\n}\n","import { onAuthStateChanged, getAuth } from 'firebase/auth';\nimport {\n  getDatabase,\n  ref,\n  onValue,\n  push,\n  set,\n  remove,\n  child,\n  get,\n  update,\n} from 'firebase/database';\nimport { app } from '../firebase/initFirebase';\nimport { refs } from '../helpers/refsApiServ';\nimport { fetchApi, renderApi } from '../main';\n\nrefs.btnQueue.addEventListener('click', onBtnQueueClick);\nrefs.btnWatched.addEventListener('click', onBtnWatchedClick);\nconst db = getDatabase(app);\nconst auth = getAuth(app);\nfunction onBtnQueueClick(e) {\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      // User is signed in, see docs for a list of available properties\n      // https://firebase.google.com/docs/reference/js/firebase.User\n\n      const uid = user.uid;\n      get(child(ref(db), `users/${uid}/userQueue`))\n        .then(snapshot => {\n          if (snapshot.exists()) {\n            const data = snapshot.val();\n            console.log(data);\n            const keys = Object.keys(data);\n            const resp = [];\n            for (const key of keys) {\n              resp.push(key);\n            }\n            //   const baseValues = Object\n            console.log(resp);\n            // return base;\n          }\n        })\n        .then(resp => {\n          // fetchApi.getCurrentFilm();\n          // const markup = renderApi.createFilmCardsMarkup(\n          //   films.data.results,\n          //   genres\n          // );\n          // renderApi.renderMarkup({\n          //   selector: '.films__list',\n          //   innerHtml: true,\n          //   createMarkypFunc: markup,\n          // });\n        })\n        .catch(err => console.error(err));\n      // ...\n    } else {\n      // User is signed out\n      // ...\n\n      console.log('not authorizate');\n      //   location.reload();\n    }\n  });\n}\nfunction onBtnWatchedClick(e) {}\n"],"names":["parcelRequire","$gQOBw","$iFsN9","app","$bad33b37729cb268$var$logOut","document","querySelector","console","log","addEventListener","e","preventDefault","auth","getAuth","signOut","then","$dtYBq","notifyInfoMessage","location","catch","error","$jxf8A","refs","btnQueue","onAuthStateChanged","$731284caa87ab3f4$var$auth","user","uid","$cokon","get","child","ref","$731284caa87ab3f4$var$db","concat","snapshot","exists","data","val","keys","Object","resp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","key","value","push","err","return","btnWatched","getDatabase"],"version":3,"file":"user-page.814a6ade.js.map"}