!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},n=e.parcelRequired76b;null==n&&((n=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var o={id:e,exports:{}};return r[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,r){t[e]=r},e.parcelRequired76b=n),n("aar0g"),n("eZZGH");var o=n("gQOBw"),i=n("iFsN9"),a=n("dtYBq");i.app,document.querySelector(".menu__logout").addEventListener("click",(function(e){e.preventDefault();var r=(0,o.getAuth)();(0,o.signOut)(r).then((function(){(0,a.notifyInfoMessage)("You loged out!"),location="http://localhost:1234/index.html"})).catch((function(e){console.error(e)}))})),n("2xDiJ");o=n("gQOBw");var l=n("cokon"),u=(i=n("iFsN9"),n("jxf8A")),s=n("c0QYQ"),c=n("408gj"),f=n("iibY6"),d=(a=n("dtYBq"),new(0,f.default)),v=new(0,c.default),h=(0,l.getDatabase)(i.app),y=(0,o.getAuth)(i.app);function g(e){(0,o.onAuthStateChanged)(y,(function(e){if(e){var r=e.uid;(0,l.get)((0,l.child)((0,l.ref)(h),"users/".concat(r,"/userQueue"))).then((function(e){if(e.exists()){var r=e.val(),t=Object.keys(r);console.log(t);var n=[],o=!0,i=!1,a=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;n.push(s)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return console.log(n),n}})).then((function(e){if(!e)return(0,a.notifyInfoMessage)("You do not have any movies in Queue!"),void(document.querySelector(".films__list--user").innerHTML="");var r=[],t=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var u=i.value,c=d.getCurrentFilm({id:u});r.push(c)}}catch(e){n=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw o}}Promise.all(r).then((function(e){v.renderMarkup({selector:".films__list--user",innerHtml:!0,createMarkypFunc:v.createFilmUserCardsMarkup(e,s.genres)})}))})).catch((function(e){return console.error(e)}))}else(0,a.notifyFailureMessage)("Please Log In!")}))}g(),u.refs.btnQueue.addEventListener("click",g),u.refs.btnWatched.addEventListener("click",(function(e){(0,o.onAuthStateChanged)(y,(function(e){if(e){var r=e.uid;(0,l.get)((0,l.child)((0,l.ref)(h),"users/".concat(r,"/userWatched"))).then((function(e){if(e.exists()){var r=e.val();console.log(r);var t=Object.keys(r),n=[],o=!0,i=!1,a=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var s=l.value;n.push(s)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return n}})).then((function(e){if(!e)return(0,a.notifyInfoMessage)("You do not have any movies in Watched!"),void(document.querySelector(".films__list--user").innerHTML="");var r=[],t=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(t=(i=l.next()).done);t=!0){var u=i.value,c=d.getCurrentFilm({id:u});r.push(c)}}catch(e){n=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw o}}Promise.all(r).then((function(e){v.renderMarkup({selector:".films__list--user",innerHtml:!0,createMarkypFunc:v.createFilmUserCardsMarkup(e,s.genres)})}))})).catch((function(e){return console.error(e)}))}else(0,a.notifyFailureMessage)("Please Log In!")}))})),n("aZ2bT");u=n("jxf8A");var p=n("lo7pY"),m=n("g649J");u.refs.filmListUser.addEventListener("click",p.onShowFilmModal),new(0,m.default)({options:{backgroundColor:"#000000",svgColor:"#FF6B08"}}).enabled({timeDelay:10,delayAfterStop:350})}();
//# sourceMappingURL=user-page.81222902.js.map
