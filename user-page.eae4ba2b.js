var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequired76b;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},e.parcelRequired76b=r),r("1WryC"),r("70ns7");var o=r("eyjy7"),s=r("jhtdw"),i=r("d1BSM");s.app;document.querySelector(".menu__logout").addEventListener("click",(function(e){e.preventDefault();const t=(0,o.getAuth)();(0,o.signOut)(t).then((()=>{(0,i.notifyInfoMessage)("You loged out!"),location="http://localhost:1234/index.html"})).catch((e=>{console.error(e)}))})),r("ffjl9");o=r("eyjy7");var a=r("jAzyG"),l=(s=r("jhtdw"),r("dkKs9")),u=r("359X7"),c=r("7RIyI"),d=r("awOEx");i=r("d1BSM");const f=new(0,d.default),h=new(0,c.default),p=(0,a.getDatabase)(s.app),y=(0,o.getAuth)(s.app);function g(e){(0,o.onAuthStateChanged)(y,(e=>{if(e){const t=e.uid;(0,a.get)((0,a.child)((0,a.ref)(p),`users/${t}/userQueue`)).then((e=>{if(e.exists()){const t=e.val(),n=Object.keys(t),r=[];for(const e of n)r.push(e);return r}})).then((e=>{if(!e)return(0,i.notifyInfoMessage)("You do not have any movies in Queue!"),document.querySelector(".films__list--user").innerHTML="",void document.querySelector(".stub__container").classList.remove("is-hidden");const t=[];for(const n of e){const e=f.getCurrentFilm({id:n});t.push(e)}Promise.all(t).then((e=>{h.renderMarkup({selector:".films__list--user",innerHtml:!0,createMarkypFunc:h.createFilmUserCardsMarkup(e,u.genres)})}))})).catch((e=>console.error(e)))}else(0,i.notifyFailureMessage)("Please Log In!")}))}g(),l.refs.btnQueue.addEventListener("click",g),l.refs.btnWatched.addEventListener("click",(function(e){(0,o.onAuthStateChanged)(y,(e=>{if(e){const t=e.uid;(0,a.get)((0,a.child)((0,a.ref)(p),`users/${t}/userWatched`)).then((e=>{if(e.exists()){const t=e.val(),n=Object.keys(t),r=[];for(const e of n)r.push(e);return r}})).then((e=>{if(!e)return(0,i.notifyInfoMessage)("You do not have any movies in Watched!"),document.querySelector(".films__list--user").innerHTML="",void document.querySelector(".stub__container").classList.remove("is-hidden");document.querySelector(".stub__container").classList.add("is-hidden");const t=[];for(const n of e){const e=f.getCurrentFilm({id:n});t.push(e)}Promise.all(t).then((e=>{h.renderMarkup({selector:".films__list--user",innerHtml:!0,createMarkypFunc:h.createFilmUserCardsMarkup(e,u.genres)})}))})).catch((e=>console.error(e)))}else(0,i.notifyFailureMessage)("Please Log In!")}))})),r("e7qNI");l=r("dkKs9");var m=r("dLzFW"),v=r("7hQEe");l.refs.filmListUser.addEventListener("click",m.onShowFilmModal);new(0,v.default)({options:{backgroundColor:"#000000",svgColor:"#FF6B08"}}).enabled({timeDelay:5,delayAfterStop:350});
//# sourceMappingURL=user-page.eae4ba2b.js.map
