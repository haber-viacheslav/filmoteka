!function(){function e(e){return e&&e.__esModule?e.default:e}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=a.parcelRequired76b;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,a){r[e]=a},a.parcelRequired76b=n),n("iFsN9"),n("bIKg0"),n("cokon"),n("bIKg0");var s=n("bpxeT"),i=n("2TvXO"),o=n("6pabY");n("iFsN9");var c=n("dtYBq"),d=n("gQOBw");n("2xDiJ");d=n("gQOBw"),c=n("dtYBq");var u,l,f,v=n("408gj"),g=(0,d.getAuth)(),p=document.querySelector(".menu__link-js"),m=new(0,v.default);function b(){return(b=e(s)(e(i).mark((function a(){var t;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new(0,d.GoogleAuthProvider),(0,d.signInWithPopup)(g,t).then((function(e){var a=d.GoogleAuthProvider.credentialFromResult(e).accessToken;console.log(a);var t=e.user;console.log(t),(0,o.postUserIntoDatebase)(t),t&&(m.renderMarkup({selector:".menu__list",innerHtml:!0,createMarkypFunc:m.createAuthorizatedUserHeaderMarkup()}),(0,c.notifySuccessMessage)("You are in!"))})).catch((function(e){console.error(e);var a=e.code;console.error(a);var t=e.message;console.error(t);var r=e.customData.email;console.error(r);var n=d.GoogleAuthProvider.credentialFromError(e);console.error(n)}));case 2:case"end":return e.stop()}}),a)})))).apply(this,arguments)}u=g,l=m,f=m.renderMarkup,(0,d.onAuthStateChanged)(u,(function(e){e?(f({selector:".menu__list",innerHtml:!0,createMarkypFunc:l.createAuthorizatedUserHeaderMarkup()}),e.uid):((0,c.notifyInfoMessage)("You are not Sign In"),console.log("not authorizate"))})),p.addEventListener("click",(function(){return b.apply(this,arguments)}));var h=n("iibY6"),M=(v=n("408gj"),s=n("bpxeT"),i=n("2TvXO"),v=n("408gj"),h=n("iibY6"),n("jxf8A"));function w(e){e?(k({addMessage:!1}),P()):k({addMessage:!0})}function k(e){if(!e.addMessage){return setTimeout((function(){M.refs.searchError.classList.add("is-hidden")}),3e3)}return M.refs.searchError.classList.remove("is-hidden")}M=n("jxf8A");var L=new(0,v.default),x=new(0,h.default)({baseURL:"https://api.themoviedb.org/3/"});function y(e){e.preventDefault();var a=e.currentTarget.elements.search_user.value.trim();x.actualQuery=a,w(a),x.incrementPage({step:1})}function P(){return T.apply(this,arguments)}function T(){return(T=e(s)(e(i).mark((function a(){var t,r,n,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getSearchFilmsData({});case 2:return t=e.sent,e.next=5,x.getGenresList({});case 5:if(r=e.sent,n=r.data.genres,t.data.results.length){e.next=11;break}return M.refs.filmList.innerHTML="",e.abrupt("return",k({addMessage:!0}));case 11:s=L.createFilmCardsMarkup(t.data.results,n),L.renderMarkup({selector:".films__list",innerHtml:!0,innerHTMLMarkup:"",insAdHtmltype:"beforeend",createMarkypFunc:s});case 13:case"end":return e.stop()}}),a)})))).apply(this,arguments)}console.log(),window.location.href.includes("user-page")?M.refs.form.removeEventListener("submit",y):M.refs.form.addEventListener("submit",y);var A=n("g649J"),F=new(0,A.default)({options:{backgroundColor:"#000000",svgColor:"#FF6B08"}});new(0,A.default)({}),s=n("bpxeT"),i=n("2TvXO"),M=n("jxf8A");function _(e,a){var t="",r="";e>=5&&(t+="<div class=\"numb numb--first-page\" data-numb-id='1'>1</div>"),4===e||5===e?t+='<div class="numb dots" data-numb-id=\''.concat(e-3,"'>").concat(e-3,"</div>"):e>=6&&(t+='<div class="dots">...</div>'),e>=3&&(t+='<div class="numb" data-numb-id=\''.concat(e-2,"'>").concat(e-2,"</div>")),e>=2&&(t+='<div class="numb" data-numb-id=\''.concat(e-1,"'>").concat(e-1,"</div>")),e<=a-1&&(r+='<div class="numb" data-numb-id=\''.concat(e+1,"'>").concat(e+1,"</div>")),e<=a-2&&(r+='<div class="numb" data-numb-id=\''.concat(e+2,"'>").concat(e+2,"</div>")),e===a-3||e===a-4?r+='<div class="numb dots" data-numb-id=\''.concat(e+3,"'>").concat(e+3,"</div>"):e<=a-5&&(r+='<div class="dots">...</div>'),e<=a-4&&(r+='<div class="numb numb--last-page" data-numb-id=\''.concat(a,"'>").concat(a,"</div>")),M.refs.beforeCurPageContainer.innerHTML=t,M.refs.afterCurPageContainer.innerHTML=r}var H=n("c0QYQ");function C(){return E.apply(this,arguments)}function E(){return(E=e(s)(e(i).mark((function a(){var t,r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.getAllFilmsData({});case 2:t=e.sent,r=I.createFilmCardsMarkup(t.data.results,H.genres),I.renderMarkup({selector:".films__list",innerHtml:!0,createMarkypFunc:r}),_(Y.actualPage,Y.totalPages);case 6:case"end":return e.stop()}}),a)})))).apply(this,arguments)}var D=n("lo7pY");M=n("jxf8A"),M=n("jxf8A");n("eZZGH"),n("aar0g"),n("aZ2bT"),n("4U4zz");var j,O,Y=new(0,h.default),I=new(0,v.default);F.enabled({timeDelay:20}),j={delayAfterStop:400}.delayAfterStop,O=void 0===j?400:j,document.addEventListener("DOMContentLoaded",(function(){F.disabled(O)})),C(),M.refs.filmList.addEventListener("click",D.onShowFilmModal),M.refs.pagRef.addEventListener("click",(function(e){var a=M.refs.currentPage,t=M.refs.nextPage,r=M.refs.prevPage;if(e.target.dataset.numbId&&(Y.actualPage=Number(e.target.dataset.numbId)),"prev"===e.target.dataset.id){if(1===Y.actualPage)return;Y.actualPage-=1}if("next"===e.target.dataset.id){if(Y.actualPage===Y.totalPages)return;Y.actualPage+=1}Y.actualPage===Y.totalPages?t.classList.add("disabled"):t.classList.contains("disabled")&&t.classList.remove("disabled"),1===Y.actualPage?r.classList.add("disabled"):r.classList.remove("disabled"),C(),a.innerHTML=Y.actualPage}))}();
//# sourceMappingURL=index.94ccc1a6.js.map
