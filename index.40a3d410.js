var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},r=e.parcelRequired76b;null==r&&((r=function(e){if(e in a)return a[e].exports;if(e in t){var r=t[e];delete t[e];var n={id:e,exports:{}};return a[e]=n,r.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,a){t[e]=a},e.parcelRequired76b=r),r("jhtdw"),r("1BRLl"),r("jAzyG"),r("1BRLl");var n=r("fInOO");r("jhtdw");var s=r("d1BSM"),d=r("eyjy7");r("ffjl9");d=r("eyjy7"),s=r("d1BSM");var i=r("7RIyI");const o=(0,d.getAuth)(),l=document.querySelector(".menu__link-js"),c=new(0,i.default);var u,f,m;u=o,f=c,m=c.renderMarkup,(0,d.onAuthStateChanged)(u,(e=>{e?(m({selector:".menu__list",innerHtml:!0,createMarkypFunc:f.createAuthorizatedUserHeaderMarkup()}),e.uid):((0,s.notifyInfoMessage)("You are not Sign In"),console.log("not authorizate"))})),l.addEventListener("click",(async function(){const e=new(0,d.GoogleAuthProvider);(0,d.signInWithPopup)(o,e).then((e=>{const a=d.GoogleAuthProvider.credentialFromResult(e).accessToken;console.log(a);const t=e.user;console.log(t),(0,n.postUserIntoDatebase)(t),t&&(c.renderMarkup({selector:".menu__list",innerHtml:!0,createMarkypFunc:c.createAuthorizatedUserHeaderMarkup()}),(0,s.notifySuccessMessage)("You are in!"))})).catch((e=>{console.error(e);const a=e.code;console.error(a);const t=e.message;console.error(t);const r=e.customData.email;console.error(r);const n=d.GoogleAuthProvider.credentialFromError(e);console.error(n)}))}));var g=r("awOEx"),v=(i=r("7RIyI"),i=r("7RIyI"),g=r("awOEx"),r("dkKs9"));function b(e){e?(p({addMessage:!1}),L()):p({addMessage:!0})}function p({addMessage:e}){if(!e){return setTimeout((()=>{v.refs.searchError.classList.add("is-hidden")}),3e3)}return v.refs.searchError.classList.remove("is-hidden")}v=r("dkKs9");const h=new(0,i.default),M=new(0,g.default)({baseURL:"https://api.themoviedb.org/3/"});function y(e){e.preventDefault();const a=e.currentTarget.elements.search_user.value.trim();M.actualQuery=a,b(a),M.incrementPage({step:1})}async function L(){const e=await M.getSearchFilmsData({}),a=(await M.getGenresList({})).data.genres;if(!e.data.results.length)return v.refs.filmList.innerHTML="",p({addMessage:!0});const t=h.createFilmCardsMarkup(e.data.results,a);h.renderMarkup({selector:".films__list",innerHtml:!0,innerHTMLMarkup:"",insAdHtmltype:"beforeend",createMarkypFunc:t})}console.log(),window.location.href.includes("user-page")?v.refs.form.removeEventListener("submit",y):v.refs.form.addEventListener("submit",y);var k=r("7hQEe");const w=new(0,k.default)({options:{backgroundColor:"#000000",svgColor:"#FF6B08"}});new(0,k.default)({});v=r("dkKs9");function P(e,a){let t="",r="";e>=5&&(t+="<div class=\"numb numb--first-page\" data-numb-id='1'>1</div>"),4===e||5===e?t+=`<div class="numb dots" data-numb-id='${e-3}'>${e-3}</div>`:e>=6&&(t+='<div class="dots">...</div>'),e>=3&&(t+=`<div class="numb" data-numb-id='${e-2}'>${e-2}</div>`),e>=2&&(t+=`<div class="numb" data-numb-id='${e-1}'>${e-1}</div>`),e<=a-1&&(r+=`<div class="numb" data-numb-id='${e+1}'>${e+1}</div>`),e<=a-2&&(r+=`<div class="numb" data-numb-id='${e+2}'>${e+2}</div>`),e===a-3||e===a-4?r+=`<div class="numb dots" data-numb-id='${e+3}'>${e+3}</div>`:e<=a-5&&(r+='<div class="dots">...</div>'),e<=a-4&&(r+=`<div class="numb numb--last-page" data-numb-id='${a}'>${a}</div>`),v.refs.beforeCurPageContainer.innerHTML=t,v.refs.afterCurPageContainer.innerHTML=r}var F=r("359X7");async function E(){const e=await $.getAllFilmsData({}),a=_.createFilmCardsMarkup(e.data.results,F.genres);_.renderMarkup({selector:".films__list",innerHtml:!0,createMarkypFunc:a}),P($.actualPage,$.totalPages)}var I=r("dLzFW");v=r("dkKs9"),v=r("dkKs9");r("70ns7"),r("1WryC"),r("e7qNI"),r("cpWzL");const $=new(0,g.default),_=new(0,i.default);w.enabled({timeDelay:20}),function({delayAfterStop:e=400}){document.addEventListener("DOMContentLoaded",(()=>{w.disabled(e)}))}({delayAfterStop:400}),E(),v.refs.filmList.addEventListener("click",I.onShowFilmModal),v.refs.pagRef.addEventListener("click",(function(e){const a=v.refs.currentPage,t=v.refs.nextPage,r=v.refs.prevPage;if(e.target.dataset.numbId&&($.actualPage=Number(e.target.dataset.numbId)),"prev"===e.target.dataset.id){if(1===$.actualPage)return;$.actualPage-=1}if("next"===e.target.dataset.id){if($.actualPage===$.totalPages)return;$.actualPage+=1}$.actualPage===$.totalPages?t.classList.add("disabled"):t.classList.contains("disabled")&&t.classList.remove("disabled"),1===$.actualPage?r.classList.add("disabled"):r.classList.remove("disabled"),E(),a.innerHTML=$.actualPage}));
//# sourceMappingURL=index.40a3d410.js.map
